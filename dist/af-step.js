var c=Object.defineProperty;var h=(n,i,t)=>i in n?c(n,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[i]=t;var l=(n,i,t)=>(h(n,typeof i!="symbol"?i+"":i,t),t);class u extends HTMLElement{constructor(){super();l(this,"shadow");l(this,"this");const t=this.attachInternals();this.shadow=t.shadowRoot,this.this=this.shadow||this,this.closest("action-form")&&(this.this.addEventListener("change",()=>{this.valid=this.isValid}),this.this.addEventListener("click",r=>{const s=r.target;s instanceof HTMLButtonElement&&(s.matches(".af-step-next")?this.step("next"):s.matches(".af-step-prev")&&this.step("prev"))}),this.this.addEventListener("af-watcher",()=>{this.valid=this.isValid}))}get valid(){return this.hasAttribute("valid")}set valid(t){t?this.setAttribute("valid",""):this.removeAttribute("valid")}get index(){return Number(this.getAttribute("index")||0)}set index(t){this.setAttribute("index",String(t))}get isValid(){const t=this.querySelector("af-group-count");let e=!0;return t&&(e=t.validity),e&&this.querySelectorAll(":invalid").length===0}step(t="next"){if(t==="next"){const e=this.querySelectorAll("input, select, textarea, af-group-count");if(!Array.from(e).every(s=>{const o=s.checkValidity();if(s.dispatchEvent(new Event("change",{bubbles:!0})),!o)if(s.matches("af-group-count")){const a=this.querySelector("input, select, textarea");a==null||a.focus()}else s.focus();return o}))return}this.dispatchEvent(new CustomEvent("af-step",{bubbles:!0,detail:{direction:t}}))}connectedCallback(){if(this.valid=this.isValid,!(this.this.querySelector("slot[name=footer]")||this.this.querySelector("[slot=footer]"))){const e=document.createElement("nav");e.classList.add("af-step-nav"),e.setAttribute("part","step-nav"),e.setAttribute("aria-label","Step Navigation");const r=a=>`<button type="button" class="af-step-${a.toLowerCase()}" part="step-btn">${a}</button>`,s=this.classList.contains("first")?"<span></span>":r("Prev"),o=this.classList.contains("last")?'<button type="submit" part="submit">Submit</button>':r("Next");e.innerHTML=`${s}${o}`,this.this.appendChild(e)}}}customElements.define("af-step",u);
//# sourceMappingURL=af-step.js.map
