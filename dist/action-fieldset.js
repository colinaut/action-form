var a=Object.defineProperty;var l=(t,n,e)=>n in t?a(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var h=(t,n,e)=>(l(t,typeof n!="symbol"?n+"":n,e),e);function u(t){return t instanceof HTMLInputElement&&["radio","checkbox","range","color","file"].includes(t.type)||t instanceof HTMLSelectElement}function d(t){return t instanceof HTMLInputElement&&["text","email","tel","password","date","month","number","datetime-local","time","url","week"].includes(t.type)||t instanceof HTMLTextAreaElement}class m extends HTMLElement{constructor(){super();h(this,"groupFields",this.querySelectorAll("input, select, textarea"))}connectedCallback(){const e=this.closest("form"),i=this.getAttribute("watch");if(e&&i){this.groupFields.forEach(s=>{s.setAttribute("disabled","")});const r=e.querySelectorAll(`:where(input, select, textarea, fieldset)[name=${i}]`);if(r.length===0)return;r.forEach(s=>{s instanceof HTMLFieldSetElement?this.show(s.checkValidity()):d(s)?s.addEventListener("blur",()=>{this.show(this.checkMatches(s.value))}):u(s)&&s.addEventListener("change",()=>{if(s.matches("[type=checkbox], [type=radio]")){const o=Array.from(r).filter(c=>c instanceof HTMLInputElement&&c.checked);this.show(this.checkMatches(o.map(c=>c.value)))}else this.show(this.checkMatches(s.value))})})}}checkMatches(e){const i=this.getAttribute("showIf")||"";return Array.isArray(e)?e.includes(i):this.hasAttribute("regex")?new RegExp(e).test(i):i===e}show(e){e?(this.removeAttribute("hidden"),this.groupFields.forEach(i=>{i.removeAttribute("disabled")})):(this.setAttribute("hidden",""),this.groupFields.forEach(i=>{i.setAttribute("disabled","")}))}}customElements.define("action-fieldset",m);
//# sourceMappingURL=action-fieldset.js.map
