{"version":3,"file":"af-text-count.js","sources":["../src/af-text-count.ts"],"sourcesContent":["export default class ActionFormTextCount extends HTMLElement {\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tprivate getNumber(field: HTMLInputElement | HTMLTextAreaElement) {\n\t\tconst maxlength = field.getAttribute(\"maxlength\");\n\t\tlet text!: string;\n\t\tif (maxlength && this.hasAttribute(\"remaining\")) {\n\t\t\ttext = String(Number(maxlength) - field.value.length);\n\t\t} else {\n\t\t\ttext = String(field.value.length);\n\t\t}\n\t\tthis.textContent = text;\n\t}\n\n\tconnectedCallback() {\n\t\tconst targetId = this.getAttribute(\"for\");\n\t\tconst input = targetId ? document.getElementById(targetId) : this.closest(\"label\")?.querySelector(`input, textarea`);\n\t\tif (input instanceof HTMLInputElement || input instanceof HTMLTextAreaElement) {\n\t\t\tthis.getNumber(input);\n\t\t\tinput.addEventListener(\"input\", () => this.getNumber(input));\n\t\t}\n\t}\n}\n\ncustomElements.define(\"af-text-count\", ActionFormTextCount);\n"],"names":["ActionFormTextCount","field","maxlength","text","_a","targetId","input"],"mappings":"AAAA,MAAqBA,UAA4B,WAAY,CAC5D,aAAc,CACP,OACP,CAEQ,UAAUC,EAA+C,CAC1D,MAAAC,EAAYD,EAAM,aAAa,WAAW,EAC5C,IAAAE,EACAD,GAAa,KAAK,aAAa,WAAW,EAC7CC,EAAO,OAAO,OAAOD,CAAS,EAAID,EAAM,MAAM,MAAM,EAE7CE,EAAA,OAAOF,EAAM,MAAM,MAAM,EAEjC,KAAK,YAAcE,CACpB,CAEA,mBAAoB,CAhBrB,IAAAC,EAiBQ,MAAAC,EAAW,KAAK,aAAa,KAAK,EAClCC,EAAQD,EAAW,SAAS,eAAeA,CAAQ,GAAID,EAAA,KAAK,QAAQ,OAAO,IAApB,YAAAA,EAAuB,cAAc,oBAC9FE,aAAiB,kBAAoBA,aAAiB,uBACzD,KAAK,UAAUA,CAAK,EACpBA,EAAM,iBAAiB,QAAS,IAAM,KAAK,UAAUA,CAAK,CAAC,EAE7D,CACD,CAEA,eAAe,OAAO,gBAAiBN,CAAmB"}