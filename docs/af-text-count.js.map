{"version":3,"file":"af-text-count.js","sources":["../src/af-text-count.ts"],"sourcesContent":["export default class ActionFormTextCount extends HTMLElement {\n\tprivate getNumber(field: HTMLInputElement | HTMLTextAreaElement) {\n\t\tconst maxlength = Number(field.getAttribute(\"maxlength\") || Infinity);\n\t\tthis.textContent = String(this.hasAttribute(\"remaining\") ? maxlength - field.value.length : field.value.length);\n\t}\n\n\tconnectedCallback() {\n\t\tconst targetId = this.getAttribute(\"for\");\n\t\tconst input = targetId ? document.getElementById(targetId) : this.closest(\"label\")?.querySelector(`input, textarea`);\n\t\tif (input instanceof HTMLInputElement || input instanceof HTMLTextAreaElement) {\n\t\t\tthis.getNumber(input);\n\t\t\tinput.addEventListener(\"input\", () => this.getNumber(input));\n\t\t}\n\t}\n}\n\ncustomElements.define(\"af-text-count\", ActionFormTextCount);\n"],"names":["ActionFormTextCount","field","maxlength","_a","targetId","input"],"mappings":"AAAA,MAAqBA,UAA4B,WAAY,CACpD,UAAUC,EAA+C,CAChE,MAAMC,EAAY,OAAOD,EAAM,aAAa,WAAW,GAAK,GAAQ,EACpE,KAAK,YAAc,OAAO,KAAK,aAAa,WAAW,EAAIC,EAAYD,EAAM,MAAM,OAASA,EAAM,MAAM,MAAM,CAC/G,CAEA,mBAAoB,CANrB,IAAAE,EAOQ,MAAAC,EAAW,KAAK,aAAa,KAAK,EAClCC,EAAQD,EAAW,SAAS,eAAeA,CAAQ,GAAID,EAAA,KAAK,QAAQ,OAAO,IAApB,YAAAA,EAAuB,cAAc,oBAC9FE,aAAiB,kBAAoBA,aAAiB,uBACzD,KAAK,UAAUA,CAAK,EACpBA,EAAM,iBAAiB,QAAS,IAAM,KAAK,UAAUA,CAAK,CAAC,EAE7D,CACD,CAEA,eAAe,OAAO,gBAAiBL,CAAmB"}