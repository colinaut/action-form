{"version":3,"file":"af-group-count.js","sources":["../src/af-group-count.ts"],"sourcesContent":["import { makeAttributes } from \"./helpers\";\nexport default class ActionFormGroupCount extends HTMLElement {\n\tprivate shadow: ShadowRoot;\n\n\tpublic min!: number;\n\tpublic max!: number;\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tmakeAttributes(this, [\n\t\t\t{ attr: \"min\", type: \"number\", defaultValue: 1 },\n\t\t\t{ attr: \"max\", type: \"number\", defaultValue: Infinity },\n\t\t]);\n\n\t\tthis.shadow = this.attachShadow({ mode: \"open\" });\n\t\tthis.shadow.innerHTML = `${this.value}`;\n\t\tthis.setValidity();\n\t}\n\n\tstatic formAssociated = true;\n\n\tprivate internals = this.attachInternals();\n\n\tget value(): number {\n\t\treturn Number(this.shadow.textContent || \"0\");\n\t}\n\n\tset value(value: number) {\n\t\tthis.shadow.textContent = value.toString();\n\t\tthis.setValidity();\n\t}\n\n\tattributeChangedCallback() {\n\t\t// if min or max changes then setValidity\n\t\tthis.setValidity();\n\t}\n\n\tpublic checkValidity(): boolean {\n\t\treturn this.value >= this.min && this.value <= this.max;\n\t}\n\n\tpublic setValidity(): void {\n\t\tconst valid = this.checkValidity();\n\t\tif (valid) {\n\t\t\tthis.internals.setValidity({});\n\t\t} else {\n\t\t\tthis.internals.setValidity({ customError: true }, \"Value is out of range\");\n\t\t\t// console.error(\"out of range\");\n\t\t}\n\t\tthis.dispatchEvent(new CustomEvent(\"count\", { bubbles: true, composed: true, detail: { value: this.value, validity: valid } }));\n\t}\n}\n\ncustomElements.define(\"af-group-count\", ActionFormGroupCount);\n"],"names":["ActionFormGroupCount","__publicField","makeAttributes","value","valid"],"mappings":"yNACA,MAAqBA,UAA6B,WAAY,CAM7D,aAAc,CACP,QANCC,EAAA,eAEDA,EAAA,YACAA,EAAA,YAiBCA,EAAA,iBAAY,KAAK,mBAZxBC,EAAe,KAAM,CACpB,CAAE,KAAM,MAAO,KAAM,SAAU,aAAc,CAAE,EAC/C,CAAE,KAAM,MAAO,KAAM,SAAU,aAAc,GAAS,CAAA,CACtD,EAED,KAAK,OAAS,KAAK,aAAa,CAAE,KAAM,OAAQ,EAChD,KAAK,OAAO,UAAY,GAAG,KAAK,KAAK,GACrC,KAAK,YAAY,CAClB,CAMA,IAAI,OAAgB,CACnB,OAAO,OAAO,KAAK,OAAO,aAAe,GAAG,CAC7C,CAEA,IAAI,MAAMC,EAAe,CACnB,KAAA,OAAO,YAAcA,EAAM,SAAS,EACzC,KAAK,YAAY,CAClB,CAEA,0BAA2B,CAE1B,KAAK,YAAY,CAClB,CAEO,eAAyB,CAC/B,OAAO,KAAK,OAAS,KAAK,KAAO,KAAK,OAAS,KAAK,GACrD,CAEO,aAAoB,CACpB,MAAAC,EAAQ,KAAK,gBACfA,EACE,KAAA,UAAU,YAAY,CAAA,CAAE,EAE7B,KAAK,UAAU,YAAY,CAAE,YAAa,EAAA,EAAQ,uBAAuB,EAG1E,KAAK,cAAc,IAAI,YAAY,QAAS,CAAE,QAAS,GAAM,SAAU,GAAM,OAAQ,CAAE,MAAO,KAAK,MAAO,SAAUA,CAAM,CAAG,CAAA,CAAC,CAC/H,CACD,CAhCCH,EAnBoBD,EAmBb,iBAAiB,IAkCzB,eAAe,OAAO,iBAAkBA,CAAoB"}