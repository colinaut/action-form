{"version":3,"file":"index.js","sources":["../src/af-step-toggle.ts","../src/af-preview.ts"],"sourcesContent":["export default class ActionFormStepToggle extends HTMLElement {\n\tprivate shadow: ShadowRoot;\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.shadow = this.attachShadow({ mode: \"open\" });\n\t\tthis.shadow.innerHTML = \"<button part='button'><slot>Toggle Steps</slot></button>\";\n\t\tthis.addEventListener(\"click\", () => {\n\t\t\tthis.closest(\"action-form\")?.classList.toggle(\"no-steps\");\n\t\t});\n\t}\n}\n\ncustomElements.define(\"af-step-toggle\", ActionFormStepToggle);\n","export default class ActionFormPreview extends HTMLElement {\n\tprivate form!: HTMLFormElement | null;\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tconst actionForm = this.closest(\"action-form\");\n\t\tthis.form = this.closest(\"form\");\n\n\t\tif (!actionForm || !this.form) return;\n\n\t\tactionForm.addEventListener(\"af-step\", () => {\n\t\t\tthis.render();\n\t\t});\n\t}\n\tconnectedCallback() {\n\t\tthis.render();\n\t}\n\n\tgetFormData() {\n\t\tif (!this.form) return;\n\t\tconst formData = new FormData(this.form);\n\t\tconsole.log(\"formData\", formData);\n\n\t\tconst keys = [...new Set(Array.from(formData.keys()))];\n\t\treturn keys\n\t\t\t.filter((key) => formData.has(key) && formData.getAll(key).some((value) => value !== \"\"))\n\t\t\t.map((key) => {\n\t\t\t\tconst values = formData.getAll(key);\n\t\t\t\tconst stringValues = values.filter((value) => typeof value === \"string\") as string[];\n\t\t\t\treturn {\n\t\t\t\t\tkey,\n\t\t\t\t\tvalue: stringValues,\n\t\t\t\t};\n\t\t\t});\n\t\t// const values = Array.from(formData.values());\n\t\t// return values;\n\t}\n\n\trender() {\n\t\tconst data = this.getFormData();\n\t\tconsole.log(\"data\", data);\n\n\t\tthis.innerHTML = `${data?.map((item) => `<p><strong>${item.key}</strong>: ${item.value.map((value) => `<span>${value}</span>`).join(\"\")}</p>`).join(\"\")}`;\n\t}\n}\n\ncustomElements.define(\"af-preview\", ActionFormPreview);\n"],"names":["ActionFormStepToggle","__publicField","_a","ActionFormPreview","actionForm","formData","key","value","stringValues","data","item"],"mappings":"4TAAA,MAAqBA,UAA6B,WAAY,CAG7D,aAAc,CACP,QAHCC,EAAA,eAIP,KAAK,OAAS,KAAK,aAAa,CAAE,KAAM,OAAQ,EAChD,KAAK,OAAO,UAAY,2DACnB,KAAA,iBAAiB,QAAS,IAAM,QACpCC,EAAA,KAAK,QAAQ,aAAa,IAA1B,MAAAA,EAA6B,UAAU,OAAO,WAAU,CACxD,CACF,CACD,CAEA,eAAe,OAAO,iBAAkBF,CAAoB,ECb5D,MAAqBG,UAA0B,WAAY,CAG1D,aAAc,CACP,QAHCF,EAAA,aAKD,MAAAG,EAAa,KAAK,QAAQ,aAAa,EACxC,KAAA,KAAO,KAAK,QAAQ,MAAM,EAE3B,GAACA,GAAc,CAAC,KAAK,OAEdA,EAAA,iBAAiB,UAAW,IAAM,CAC5C,KAAK,OAAO,CAAA,CACZ,CACF,CACA,mBAAoB,CACnB,KAAK,OAAO,CACb,CAEA,aAAc,CACb,GAAI,CAAC,KAAK,KAAM,OAChB,MAAMC,EAAW,IAAI,SAAS,KAAK,IAAI,EAC/B,eAAA,IAAI,WAAYA,CAAQ,EAEnB,CAAC,GAAG,IAAI,IAAI,MAAM,KAAKA,EAAS,MAAM,CAAC,CAAC,EAEnD,OAAQC,GAAQD,EAAS,IAAIC,CAAG,GAAKD,EAAS,OAAOC,CAAG,EAAE,KAAMC,GAAUA,IAAU,EAAE,CAAC,EACvF,IAAKD,GAAQ,CAEb,MAAME,EADSH,EAAS,OAAOC,CAAG,EACN,OAAQC,GAAU,OAAOA,GAAU,QAAQ,EAChE,MAAA,CACN,IAAAD,EACA,MAAOE,CAAA,CACR,CACA,CAGH,CAEA,QAAS,CACF,MAAAC,EAAO,KAAK,cACV,QAAA,IAAI,OAAQA,CAAI,EAEnB,KAAA,UAAY,GAAGA,GAAA,YAAAA,EAAM,IAAKC,GAAS,cAAcA,EAAK,GAAG,cAAcA,EAAK,MAAM,IAAKH,GAAU,SAASA,CAAK,SAAS,EAAE,KAAK,EAAE,CAAC,QAAQ,KAAK,GAAG,EACxJ,CACD,CAEA,eAAe,OAAO,aAAcJ,CAAiB"}