var h=Object.defineProperty;var g=(s,t,e)=>t in s?h(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var o=(s,t,e)=>(g(s,typeof t!="symbol"?t+"":t,e),e);var d;class m extends HTMLElement{constructor(){super();o(this,"shadow");o(this,"form",this.closest("form"));o(this,"actionForm",this.closest("action-form"));o(this,"steps",(d=this.actionForm)==null?void 0:d.steps);this.shadow=this.attachShadow({mode:"open"}),!(!this.actionForm||!this.steps)&&(this.actionForm.addEventListener("af-step",()=>{this.render()}),this.render(),this.shadow.addEventListener("click",e=>{const r=e.target;if(r instanceof HTMLButtonElement&&r.matches(".step")&&!r.disabled){const a=Number(r.dataset.index||0);this.dispatchEvent(new CustomEvent("af-step",{bubbles:!0,composed:!0,detail:{step:a}})),this.render()}}))}get stepIndex(){var e;return((e=this.actionForm)==null?void 0:e.stepIndex)||0}render(){if(!this.form||!this.steps)return;const e="<style>:host{display:grid;position:relative;align-items:center;--step-border-size:.22em;--step-bg:white;--step-text:inherit;--inactive:lightgray;--active:lightseagreen;--incomplete:coral;--completed:var(--active);--completed-bg:var(--active);--completed-text:white}.progress{background:var(--active);height:.5em;width:var(--progress,0%);grid-row:-1/1;grid-column:-1/1}nav{margin:0;padding:0;list-style:none;display:flex;justify-content:space-between;grid-row:-1/1;grid-column:-1/1}.bg{background:var(--inactive);height:.5em;grid-row:-1/1;grid-column:-1/1}.step{border:var(--step-border-size) solid var(--inactive);border-radius:100%;width:2em;height:2em;line-height:1.65em;text-align:center;background:var(--step-bg);font-size:.9em;position:relative;z-index:1;padding:0;margin:0;cursor:pointer;color:var(--step-text)}.step.completed{border-color:var(--completed);background:var(--completed-bg);color:var(--completed-text)}.step:disabled{opacity:1;cursor:not-allowed}.step[aria-current=step]{border-color:var(--active)}.step:not(.completed):has(~.step[aria-current=step]){border-color:var(--incomplete)}</style>",r=this.stepIndex/(this.steps.length-1)*100;this.shadow.innerHTML=`${e}<div class="bg" part="bg"></div><div class="progress" style="--progress:${r}" part="progress"></div><nav part="nav">${Array.from(this.steps).map((a,i)=>{const n=i===this.stepIndex?"active":"",c=a.completed?"completed":"",p=this.hasAttribute("enable-all")||this.stepIndex>i?"":"disabled",l=a.getAttribute("progress-title")||"";return`<button type="button" part="step ${c} ${n}" ${p} title="${l}" class="step ${c}" ${n&&'aria-current="step"'} aria-label="Step ${i+1}" data-index="${i}">${i+1}</button>`}).join("")}</nav>`}}customElements.define("af-progress",m);
//# sourceMappingURL=af-progress.js.map
